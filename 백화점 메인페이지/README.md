# 백화점 메인페이지

React와 TypeScript를 사용한 현대적인 백화점 웹사이트입니다.

## 주요 기능

### 🛍️ 상품 관리
- 상품 목록 조회 및 상세 정보
- 카테고리별 상품 분류
- 상품 검색 및 필터링
- 장바구니 및 위시리스트

### 🔍 **고급 검색 시스템 (신규 추가)**
- **실시간 검색 자동완성**: 상품명, 브랜드 기반 자동완성
- **검색 제안**: 사용자 입력에 따른 관련 검색어 제안
- **인기 검색어**: 실제 검색 로그 기반 인기 검색어 표시
- **연관 검색어**: 유사한 검색어 추천
- **사용자 검색 히스토리**: 개인별 최근 검색어 관리
- **고급 필터링**: 가격 범위, 브랜드, 카테고리별 필터링
- **정렬 옵션**: 인기순, 가격순, 이름순, 최신순
- **검색 통계**: 검색어별 통계 정보 표시
- **검색 로그**: 사용자 검색 행동 분석 및 개선

### 👤 사용자 관리
- 회원가입 및 로그인
- 마이페이지
- 주문 내역 조회
- 쿠폰 관리

### 💳 결제 시스템
- Toss Payments 연동
- 주문 처리 및 추적

## 기술 스택

- **Frontend**: React 18, TypeScript, Tailwind CSS
- **Backend**: Supabase (PostgreSQL)
- **상태 관리**: React Context API
- **라우팅**: React Router v6
- **빌드 도구**: Vite

## 설치 및 실행

### 1. 의존성 설치
```bash
npm install
```

### 2. 환경 변수 설정
`.env` 파일을 생성하고 Supabase 설정을 추가하세요:
```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. 데이터베이스 설정
Supabase에서 다음 SQL 스크립트를 실행하여 검색 기능을 위한 테이블을 생성하세요:
```sql
-- database_setup.sql 파일의 내용을 실행
```

### 4. 개발 서버 실행
```bash
npm run dev
```

## 검색 기능 상세 설명

### 🔍 검색 컴포넌트 구조
```
src/
├── components/
│   ├── SearchComponent.tsx    # 메인 검색 컴포넌트
│   └── Header.tsx            # 헤더 검색바 (자동완성 포함)
├── pages/
│   └── SearchPage.tsx        # 검색 결과 페이지
├── services/
│   ├── productService.ts     # 상품 검색 서비스
│   └── searchService.ts      # 검색 로그 및 통계 서비스
└── types/
    └── index.ts              # 타입 정의
```

### 🚀 주요 검색 기능

#### 1. 실시간 자동완성
- 사용자 입력 시 2글자 이상부터 자동완성 시작
- 상품명, 브랜드 기반 제안
- 검색 로그 기반 연관 검색어 제안

#### 2. 검색 제안 시스템
- **검색 제안**: 상품명과 브랜드에서 일치하는 항목
- **연관 검색어**: 유사한 검색어 추천
- **사용자 히스토리**: 개인별 최근 검색어
- **인기 검색어**: 전체 사용자 검색 통계

#### 3. 고급 필터링
- 가격 범위 설정 (최소/최대)
- 브랜드별 필터링
- 카테고리별 필터링
- 정렬 옵션 (인기순, 가격순, 이름순, 최신순)

#### 4. 검색 결과 표시
- 그리드 형태의 상품 카드
- 상품 이미지, 이름, 가격, 브랜드 정보
- 판매량 및 재고 정보
- 클릭 시 상품 상세 페이지로 이동

#### 5. 검색 통계 및 분석
- 검색어별 총 검색 횟수
- 최근 1주일간 검색 횟수
- 사용자별 검색 패턴 분석

### 📊 데이터베이스 구조

#### 검색 로그 테이블 (`search_logs`)
- 사용자 검색 기록 저장
- 검색어, 사용자 ID, 시간 정보
- IP 주소 및 사용자 에이전트 정보

#### 검색 통계 테이블 (`search_stats`)
- 검색어별 통계 정보
- 총 검색 횟수, 최근 검색 횟수
- 자동 업데이트 트리거

#### 인기 검색어 테이블 (`popular_searches`)
- 인기 검색어 캐싱
- 30일간 검색 통계 기반

### 🔧 사용법

#### 기본 검색
1. 헤더의 검색창에 검색어 입력
2. 자동완성 제안 확인
3. Enter 키 또는 검색 버튼 클릭

#### 고급 검색
1. `/search` 페이지에서 검색 실행
2. 필터 버튼 클릭하여 필터 패널 열기
3. 가격 범위, 브랜드 등 설정
4. 정렬 옵션 선택

#### 검색 제안 활용
- 검색창 포커스 시 제안 목록 표시
- 검색 제안, 연관 검색어, 인기 검색어 확인
- 클릭하여 빠른 검색 실행

### 📈 성능 최적화

- 데이터베이스 인덱스 최적화
- 검색 결과 캐싱
- 비동기 검색 제안 로딩
- 검색 로그 배치 처리

### 🔒 보안

- Row Level Security (RLS) 적용
- 사용자별 검색 로그 접근 제한
- 인증된 사용자만 통계 업데이트 가능

## 라우팅

- `/` - 홈페이지
- `/search` - 검색 결과 페이지
- `/product/:id` - 상품 상세 페이지
- `/cart` - 장바구니
- `/login` - 로그인
- `/signup` - 회원가입
- `/mypage` - 마이페이지

## 개발 가이드

### 컴포넌트 추가
새로운 컴포넌트는 `src/components/` 디렉토리에 추가하세요.

### 페이지 추가
새로운 페이지는 `src/pages/` 디렉토리에 추가하고 `App.tsx`에 라우트를 등록하세요.

### 서비스 추가
새로운 API 서비스는 `src/services/` 디렉토리에 추가하세요.

## 배포

### 빌드
```bash
npm run build
```

### 프리뷰
```bash
npm run preview
```

## 기여

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 문의

프로젝트에 대한 문의사항이 있으시면 이슈를 생성해 주세요.